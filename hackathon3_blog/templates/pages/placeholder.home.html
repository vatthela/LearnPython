{% extends 'layouts/main.html' %}
{% block title %}Home{% endblock %}
{% block content %}

    <div class="page-header">
        <h2>Create post</h2>
    </div>

    <form method="post" class="form form-reset">
        {{ form.title(class_ = 'form-control first-input last-input', placeholder = form.title.label.text) }}
        <br/>
        {{ form.content(class_ = 'form-control first-input last-input', placeholder = form.content.label.text) }}
        <br/>
        <input type="submit" value="Submit" class="btn btn-lg btn-primary btn-block">
    </form>


    <div class="page-header">
        <h2>List posts</h2>
    </div>
    {% if posts %}
        <table class="styled-table">
            <thead>
            <tr>
                <th>Title</th>
                <th>Content</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
            {% for post in posts %}
                <tr>
                    <td>{{ post.title }}</td>
                    <td>{{ post.content | truncate }}</td>
                    <td>{{ post.created_on }}</td>
                    <td>{{ post.updated_on }}</td>
                    <td><a href="{{ url_for('post', post_id=post.id) }}">Edit</a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

{% endblock %}
